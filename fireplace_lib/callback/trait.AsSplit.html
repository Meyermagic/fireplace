<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `AsSplit` trait in crate `fireplace_lib`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, AsSplit">

    <title>fireplace_lib::callback::AsSplit - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>fireplace_lib</a>::<wbr><a href='index.html'>callback</a></p><script>window.sidebarCurrent = {name: 'AsSplit', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content trait">
<h1 class='fqn'><span class='in-band'>Trait <a href='../index.html'>fireplace_lib</a>::<wbr><a href='index.html'>callback</a>::<wbr><a class='trait' href=''>AsSplit</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/fireplace_lib/callback/split.rs.html#86-95' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait AsSplit {
    type <a href='#associatedtype.Callback1' class='type'>Callback1</a>: <a class='trait' href='../../wlc/trait.Callback.html' title='trait wlc::Callback'>Callback</a> + 'static;
    type <a href='#associatedtype.Callback2' class='type'>Callback2</a>: <a class='trait' href='../../wlc/trait.Callback.html' title='trait wlc::Callback'>Callback</a> + 'static;
    fn <a href='#tymethod.first_child' class='fnname'>first_child</a>(&amp;mut self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='enum core::option::Option'>Option</a>&lt;&amp;mut Self::<a class='trait' href='../../fireplace_lib/callback/trait.AsSplit.html' title='trait fireplace_lib::callback::AsSplit'>Callback1</a>&gt;;
    fn <a href='#tymethod.second_child' class='fnname'>second_child</a>(&amp;mut self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='enum core::option::Option'>Option</a>&lt;&amp;mut Self::<a class='trait' href='../../fireplace_lib/callback/trait.AsSplit.html' title='trait fireplace_lib::callback::AsSplit'>Callback2</a>&gt;;
}</pre><div class='docblock'><p>A trait to express that your struct may split Callback calls onto
two children.</p>

<p>Knowing that your amount of children will always be
two at maximum opens some options for optimizations and makes
some edge cases much easier to implement, as it is more common
than you might expect. This is main reason it exists next to
<a href="./trait.AsVec.html"><code>AsVec</code></a>.
Other than that typing is easier, because both children have different
generic types.</p>

<p>You may acquire a Split struct actually implementing <code>Callback</code> via the
<a href="./trait.IntoCallback.html"><code>IntoCallback</code></a> trait.</p>

<p>Note that fireplace APIs all take <code>IntoCallback</code> types instead of
<code>Callback</code>,
so you usually don&#39;t need to perform the conversation yourself.</p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1>
<pre><code class="language-norun">use ::wlc::{Callback, View};
use ::fireplace_lib::callback::{IntoCallback, AsSplit, Split};

pub struct ViewSplit&lt;C1: Callback + &#39;static, C2: Callback + &#39;static&gt;
{
    pub child1: C1,
    pub child2: C2,
    even: bool,
}

impl&lt;C1, C2&gt; AsSplit for ViewSplit&lt;C1, C2&gt;
    where C1: Callback + &#39;static, C2: Callback + &#39;static
{
    type Callback1 = C1;
    type Callback2 = C2;

    fn first_child(&amp;mut self) -&gt; Option&lt;&amp;mut Self::Callback1&gt;
    {
        self.child1
    }
    fn second_child(&amp;mut self) -&gt; Option&lt;&amp;mut Self::Callback2&gt;
    {
        self.child2
    }
}

impl&lt;C1, C2&gt; Callback for Split&lt;ViewSplit&lt;C1, C2&gt;&gt;
    where C1: Callback + &#39;static, C2: Callback + &#39;static
{
    fn view_created(&amp;mut self, view: &amp;View) -&gt; bool
    {
        let result = if self.even {
            if let Some(child) = self.first_child() {
                child.view_created(view)
            }
        } else {
            if let Some(child) = self.second_child() {
                child.view_created(view)
            }
        };
        self.even = !self.even;
        result
    }

    // All remaining Callback functions are still send to both children.
// Here specialization kicks in and uses the `default` implementation
of `Split`.
    //
// Note that this example is against the concepts presented in the
handler trait
// All Callbacks should be able to assume all `view_*` methods they may
receive have
    // a corresponding `view_created` even, that has happend earlier.
    // Meaning you never receive events for view&#39;s you never saw created.
}
</code></pre>
</div>
            <h2 id='associated-types'>Associated Types</h2>
            <div class='methods'>
        <h3 id='associatedtype.Callback1' class='method'><span id='Callback1.t' class='invisible'><code>type <a href='#associatedtype.Callback1' class='type'>Callback1</a>: <a class='trait' href='../../wlc/trait.Callback.html' title='trait wlc::Callback'>Callback</a> + 'static</code></span></h3><div class='docblock'><p>Type of the first child</p>
</div><h3 id='associatedtype.Callback2' class='method'><span id='Callback2.t' class='invisible'><code>type <a href='#associatedtype.Callback2' class='type'>Callback2</a>: <a class='trait' href='../../wlc/trait.Callback.html' title='trait wlc::Callback'>Callback</a> + 'static</code></span></h3><div class='docblock'><p>Type of the second child</p>
</div></div>
            <h2 id='required-methods'>Required Methods</h2>
            <div class='methods'>
        <h3 id='tymethod.first_child' class='method'><span id='first_child.v' class='invisible'><code>fn <a href='#tymethod.first_child' class='fnname'>first_child</a>(&amp;mut self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='enum core::option::Option'>Option</a>&lt;&amp;mut Self::<a class='trait' href='../../fireplace_lib/callback/trait.AsSplit.html' title='trait fireplace_lib::callback::AsSplit'>Callback1</a>&gt;</code></span></h3><div class='docblock'><p>Returns a mutable reference to your first child, when it exists</p>
</div><h3 id='tymethod.second_child' class='method'><span id='second_child.v' class='invisible'><code>fn <a href='#tymethod.second_child' class='fnname'>second_child</a>(&amp;mut self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='enum core::option::Option'>Option</a>&lt;&amp;mut Self::<a class='trait' href='../../fireplace_lib/callback/trait.AsSplit.html' title='trait fireplace_lib::callback::AsSplit'>Callback2</a>&gt;</code></span></h3><div class='docblock'><p>Returns a mutable reference to your second child, when it exists</p>
</div></div>
        <h2 id='implementors'>Implementors</h2>
        <ul class='item-list' id='implementors-list'>
    <li><code>impl AsSplit for <a class='struct' href='../../fireplace_lib/handlers/workspaces/modes/struct.Combined.html' title='struct fireplace_lib::handlers::workspaces::modes::Combined'>Combined</a></code></li>
</ul><script type="text/javascript" async
                         src="../../implementors/fireplace_lib/callback/trait.AsSplit.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "fireplace_lib";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>